n=$(wc -l ./esxi-hosts | awk '{ print $1 }')
for i in $(eval echo "{1..$n}")
do
line=$(echo "$1" | sed ''$i'q;d' ./esxi-hosts)
pw=$(echo "$1" | sed ''$i'q;d' ./passwords)
echo "Checking the $i host: ($line) ***"
echo "The name of the $i host is: ($line)" >> ./esxi-hosts.log
sshpass -p "$pw" ssh -o "StrictHostKeyChecking no" root@"$line" "command1 && command2 && command3 && command4" >> ./esxi-hosts.log
echo "*******" >> ./esxi-hosts.log
done
